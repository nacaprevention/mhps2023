"use strict";(self.webpackChunkmappinghps2023=self.webpackChunkmappinghps2023||[]).push([[235],{7622:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var n=a(7294),o=a(2912);const s=e=>{const t={};for(const a in e)t[e[a]]=a;return t},l=s({"All Services":"serviceProviders","Condom Distribution":"CondomDistribution","Family Life and HIV/AIDS Education (FLHE)/Sexuality Education":"FamilyLifeAndHivAidsEducationFlheSexualityEducation","Gender and Human Rights (GHR)":"GenderAndHumanRightsGhr","Harm Reduction: Medication-Assisted Treatment (MAT)":"HarmReductionMedicationAssistedTreatmentMat","Harm Reduction: Needle and Syringe Exchange":"HarmReductionNeedleAndSyringeExchange","HIV Self-Testing (HIVST)":"HivSelfTestingHivst","HIV Testing Services (HTS)":"HivTestingServicesHts","Mental Health Services":"MentalHealthServices","Pre-Exposure Prophylaxis (PrEP)":"Pre-ExposureProphylaxisPrep","Social and Behaviour Change Communication (SBCC)":"SocialAndBehaviourChangeCommunicationSbcc","STI Screening and Treatment":"StiScreeningAndTreatment","Technical Assistance (TA)":"TechnicalAssistanceTa"}),i=s({"All Populations":"allPopulations","Adolescent Girls and Young Women (AGYW) in school":"agywInSchool","Adolescent Girls and Young Women (AGYW) out of school":"agywOutOfSchool","Adolescent Boys and Young Men (ABYM) in school":"abymInSchool","Adolescent Boys and Young Men (ABYM) out of school":"abymOutOfSchool","Children Living with HIV":"childrenLivingWithHIV","General Population":"generalPopulation","HIV-exposed Infants":"hivExposedInfants","Internally Displaced People (IDP)":"idp","Key Populations - Female Sex Workers (FSW)":"kpFsw","Key Populations - Men who have Sex with Men (MSM)":"kpMsm","Key Populations - People in enclosed settings":"kpPeopleInEnclosedSettings","Key Populations - People Who Inject Drugs (PWID)":"kpPwid","Key Populations - Transgender":"kpTransgender","Orphans and Vulnerable Children (OVC)":"ovc",Parents:"parents","People living with Disabilities":"peopleLivingWithDisabilities","People Living with HIV (PLHIV)":"plhiv","Serodiscordant Couples":"serodiscordantCouples",Teachers:"teachers","Faith Leaders":"faithLeaders",Fishermen:"fishermen",Pastoralists:"pastoralists","Transport Workers":"transportWorkers"}),r=s({"All Locations":"allLocations",Community:"community",Facility:"facility",School:"school"}),c={Services:Object.keys(l),"Target Populations":Object.keys(i),Locations:Object.keys(r)},d=o.ut0().domain([0,1,11,21]).range(["#D3D3D3","#f7faf5","#a0d492","#60a455","#008000"]),u=e=>{let{data:t}=e;const a=((e,t)=>{const a={};for(const n in t)a[n]=e.map((e=>{let a={};return t[n].forEach((t=>{void 0!==e[t]&&(a[t]=e[t])})),a})).filter((e=>Object.keys(e).length>0));return a})(t,c);return n.createElement("div",null,Object.keys(a).map((e=>n.createElement("div",{key:e},n.createElement("h2",{className:"themedTables"},e),n.createElement(m,{data:a[e],className:"themedTables"})))))},m=e=>{let{data:t}=e;const{0:a,1:o}=(0,n.useState)(null);if(!Array.isArray(t)||0===t.length)return n.createElement("div",null,"No data available.");const s=Object.keys(t[0]);return n.createElement("table",{className:"tableData"},n.createElement("tbody",null,s.map(((e,s)=>{const c=l[e]||i[e]||r[e]||e;return n.createElement(n.Fragment,{key:s},n.createElement("tr",{onClick:()=>{var e;o(a===(e=s)?null:e)}},n.createElement("td",null,c),n.createElement("td",null,t[0][e]),n.createElement("td",{style:{backgroundColor:isNaN(t[0][e])?"transparent":d(parseFloat(t[0][e])),width:"20px"}})),a===s&&n.createElement("tr",null,n.createElement("td",{colSpan:"3"},n.createElement("div",null,"Additional information for ",c))))}))))};var h=a(9528),p=a(2608);var g=e=>{let{lgaName:t,stateName:a}=e;const s=(0,n.useRef)(null),[l,i]=n.useState(null),r={Abia:"AB",Adamawa:"AD","Akwa Ibom":"AK",Anambra:"AN",Bauchi:"BA",Bayelsa:"BY",Benue:"BE",Borno:"BR","Cross River":"CR",Delta:"DE",Ebonyi:"EB",Edo:"ED",Ekiti:"EK",Enugu:"EN","Federal Capital Territory":"FC",Gombe:"GO",Imo:"IM",Jigawa:"JI",Kaduna:"KD",Kano:"KN",Katsina:"KT",Kebbi:"KB",Kogi:"KO",Kwara:"KW",Lagos:"LA",Nasarawa:"NA",Niger:"NI",Ogun:"OG",Ondo:"ON",Osun:"OS",Oyo:"OY",Plateau:"PL",Rivers:"RI",Sokoto:"SO",Taraba:"TA",Yobe:"YO",Zamfara:"ZA"}[a];return console.log("lgaName:",t),console.log("stateName:",a),(0,n.useEffect)((()=>{r?o.AVB("/lgas.geojson").then((e=>{console.log("Loaded GeoJSON data:",e);const a=e.features.filter((e=>e.properties.lga_name===t));a.length>0&&i({type:"FeatureCollection",features:a})})).catch((e=>{console.error("Failed to load LGA GeoJSON data",e)})):console.error(`No state code found for state: ${a}`)}),[t,a,r]),(0,n.useEffect)((()=>{if(l&&r){const e=o.Ys(s.current),t=o.cSP(l),a=o.mw4().scale(18500).center(t).translate([400,250]),n=o.l49().projection(a);e.selectAll("*").remove(),e.append("g").selectAll("path").data(l.features).enter().append("path").attr("d",n).attr("fill","#4E844E")}}),[l,r]),n.createElement("div",{className:"lga-map"},n.createElement("svg",{ref:s,width:800,height:800}))},S=a(4160);const E=["All Services","Condom Distribtion","Family Life and HIV/AIDS Education (FLHE)/Sexuality Education","Gender and Human Rights (GHR)","Harm Reduction: Medication-Assisted Treatment (MAT)","Harm Reduction: Needle and Syringe Exchange","HIV Self-Testing (HIVST)","HIV Testing Services (HTS)","Mental Health Services","Pre-Exposure Prophylaxis (PrEP)","Social and Behaviour Change Communication (SBCC)","STI Screening and Treatment","Technical Assistance (TA)"],A=["All Populations","AGYW in school","AGYW out of school","ABYM in school","ABYM out of school","Children living with HIV","General population","HIV-exposed infants","IDP","KP_FSW","KP_MSM","KP_people in enclosed settings","KP_PWID","KP_transgender","OVC","Parents","People living with disabilities","PLHIV","Serodiscordant couples","Teachers","Faith Leaders","Fishermen","Pastoralists","Transport Workers"],v=["All Locations","Community","Facility"];var f=e=>{let{data:t,pageContext:a}=e;const{state:s,lga:l}=a,{0:i,1:r}=(0,n.useState)(s),{0:c,1:d}=(0,n.useState)(l),{0:m,1:f}=(0,n.useState)(E[0]),{0:P,1:y}=(0,n.useState)(A[0]),{0:T,1:H}=(0,n.useState)(v[0]),{0:I,1:b}=(0,n.useState)([]),{0:C,1:L}=(0,n.useState)([]);return(0,n.useEffect)((()=>{(async()=>{const e=await(async e=>await o.gyn(e))((0,S.dq)("/service_providers.csv"));console.log("CSV Data:",e);const t=((e,t)=>e.filter((e=>"All LGAs"===t||e.lga_name===t)))(e,c);console.log("Filtered Data:",t),b(t)})()}),[c]),(0,n.useEffect)((()=>{const e=t.allServiceProvidersCsv.nodes.map((e=>e.lga_name)).filter(((e,t,a)=>a.indexOf(e)===t));console.log("LGA List: ",e),L(e)}),[t]),n.createElement(h.Z,{pageTitle:`MHPS 2023 | ${i} - ${c}`},n.createElement("div",{className:"holder"},n.createElement(p.Z,{selectedState:i,setSelectedState:r,selectedLga:c,setSelectedLga:d,selectedService:m,setSelectedService:f,selectedPopulation:P,setSelectedPopulation:y,selectedLocation:T,setSelectedLocation:H,lgaList:C,showLgaDropdown:!0,showServicesDropdown:!1,showTargetPopulationDropdown:!1,showLocationDropdown:!1}),n.createElement("div",{className:"map-header-container"},n.createElement("div",{id:"current-heading-container"}),n.createElement("div",{className:"current-heading"},i),n.createElement("h4",{className:"map-title"},"LGA: ",c),n.createElement(u,{data:I,className:"themedTables"}),n.createElement(g,null))))}}}]);
//# sourceMappingURL=component---src-templates-lga-template-js-29d1834b64c56617238e.js.map
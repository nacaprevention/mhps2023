"use strict";(self.webpackChunkmappinghps2023=self.webpackChunkmappinghps2023||[]).push([[472],{2998:function(e,t,a){a.r(t);var r=a(7294),n=(a(2891),a(2912)),s=a(9008),o=a(4160);t.default=()=>{const e=(0,r.useRef)(null),{0:t,1:a}=(0,r.useState)("NIGERIA");return(0,r.useEffect)((()=>{const t=n.Ys(e.current),r=n.mw4().scale(3500).center([8.6753,9.082]).translate([400,400]),s=n.l49().projection(r),l=n.ut0().domain([0,1,2,3]).range(["#76ff0d","#B11B10","#FF7F00","#ffc802","#008000"]);Promise.all([n.AVB((0,o.dq)("/nigeria_geojson.geojson")),n.gyn((0,o.dq)("/statusState.csv"))]).then((e=>{let[r,o]=e;r.features.forEach((e=>{const t=o.find((t=>t.state===e.properties.state));t&&(e.properties.currentValue=+t.serviceProviders)})),t.selectAll("path").remove(),t.append("g").selectAll("path").data(r.features).enter().append("path").attr("d",s).attr("fill",(e=>{const t=e.properties.currentValue;return void 0===t?"#D3D3D3":l(t)})).attr("stroke","#FFFFFF").on("mouseover",(function(e,t){n.Ys(this).attr("stroke","#181e24"),a(t.properties.state)})).on("mouseout",(function(e,t){t.properties.currentValue;n.Ys(this).attr("stroke","#ffffff"),a("NIGERIA")}));const i=t.append("g").attr("transform","translate(600,600)");let c=l.domain().map((e=>[e,l.invertExtent(l(e))[1]]));c=c.filter(((e,t,a)=>a.findIndex((t=>t[0]===e[0]))===t)),c.some((e=>0===e[0]))||c.unshift([0,0]);const p=i.selectAll("g").data(c).enter().append("g").attr("transform",((e,t)=>`translate(0, ${20*t})`));p.append("rect").attr("width",40).attr("height",20).attr("fill",(e=>0===e[0]?"#B11B10":1===e[0]?"#FF7F00":2===e[0]?"#ffc802":3===e[0]?"#008000":l(e[0]))),p.append("text").attr("x",45).attr("y",10).attr("dy","0.35em").attr("font-size","12px").attr("font-family","'Lato', sans-serif").text((e=>0===e[0]?"No submissions":1===e[0]?"No validations":2===e[0]?"Some validations":3===e[0]?"Completed validations":`${e[0]} - ${e[1]-1}`))})).catch((e=>{console.log("Error loading file:",e)}))}),[]),r.createElement(s.Z,null,r.createElement("div",{className:"national-map"},r.createElement("div",{className:"submissions map-header-container"},r.createElement("span",{className:"updateTitle"},"MAPPING STATUS UPDATE: "),r.createElement("span",{className:"current-heading"}," ",t)),r.createElement("div",{className:"parent-container"},r.createElement("div",{className:"map-component"},r.createElement("svg",{ref:e,width:800,height:800})))))}}}]);
//# sourceMappingURL=component---src-pages-submissions-js-349148401e432e01f5c9.js.map